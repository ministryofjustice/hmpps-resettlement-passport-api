version: 2
pathway: "CHILDREN_FAMILIES_AND_COMMUNITY"
pages:
  - id: "CHILDREN_FAMILIES_AND_COMMUNITY_REPORT"
    title: "Children, families and communities report"
    questions:
      - id: "PARTNER_OR_SPOUSE"
        title: "Does the person in prison have a partner or spouse?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "PARENTAL_RESPONSIBILITY"
        title: "Does the person in prison have parental responsibility for any children under 16?"
        subTitle: "Parental responsibility means they have legal rights and duties relating to the children's upbringing. It does not mean they are allowed contact."
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "PRIMARY_CARER_FOR_CHILDREN"
        title: "Is the person in prison the primary carer for any children under 16?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
            nestedQuestions:
              - id: "NUMBER_OF_CHILDREN"
                title: "Number of children"
                type: "SHORT_TEXT"
                customValidation:
                  regex: "^(?:[1-9])(\\d+)?$"
                  message: "Number of children must be a whole number"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "CHILDREN_SERVICE_INVOLVED"
        title: "Are children's services involved with the person in prison and the children they look after?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "CARING_RESPONSIBILITIES_FOR_ADULTS"
        title: "Does the person in prison have caring responsibilities for any adults?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "SOCIAL_SERVICE_INVOLVED"
        title: "Are social services involved with the person in prison and any adults they provide care for?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "RECEIVED_SUPPORT_FROM_SOCIAL_SERVICES"
        title: "Has the person in prison ever received support from social services or been in care?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "DO_THEY_HAVE_SUPPORT_FROM_FAMILY_FRIENDS_COMMUNITY"
        title: "Does the person in prison have support from family, friends or their community outside of prison?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "INVOLVEMENT_IN_GANG_ACTIVITY"
        title: "Has the person in prison had any involvement in gang activity?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "UNDER_THREAT_OUTSIDE_PRISON"
        title: "Is the person in prison under threat outside of prison?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "VICTIM_OF_DOMESTIC_ABUSE"
        title: "Has the person in prison ever been the victim of domestic abuse?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "PERPETRATOR_OF_DOMESTIC_ABUSE"
        title: "Has the person in prison ever been the perpetrator of domestic abuse?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "VICTIM_OF_SEXUAL_ABUSE"
        title: "Has the person in prison ever been the victim of sexual abuse?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "PERPETRATOR_OF_SEXUAL_ABUSE"
        title: "Has the person in prison ever been the perpetrator of sexual abuse?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
      - id: "WORKED_IN_SEX_INDUSTRY"
        title: "Has the person in prison ever worked in the sex industry?"
        type: "RADIO"
        options:
          - id: "YES"
            displayText: "Yes"
          - id: "NO"
            displayText: "No"
          - id: "NO_ANSWER"
            displayText: "No answer provided"
    nextPageLogic:
      - nextPageId: "SUPPORT_REQUIREMENTS"
  - id: "SUPPORT_REQUIREMENTS"
    questions:
      - id: "SUPPORT_REQUIREMENTS"
        title: "Support needs"
        subTitle: "Select any needs you have identified that could be met by prison or probation staff."
        type: "CHECKBOX"
        options:
          - id: "SUPPORT_WHEN_MEETING_CHILDREN_SERVICES"
            displayText: "Support when they meet with children's services"
            tag: "MEET_CHILDREN"
          - id: "SUPPORT_FROM_COMMUNITY_ORGANISATION_OUTSIDE_PRISON"
            displayText: "Support from community organisations outside of prison"
            tag: "COMMUNITY_ORG_SUPPORT"
          - id: "INTERNAL_SUPPORT_SERVICES"
            displayText: "Internal support services"
          - id: "MENTORING_SUPPORT_ON_RELEASE"
            displayText: "Mentoring support on release"
            tag: "MENTORING_SUPPORT"
          - id: "OTHER_SUPPORT_NEEDS"
            displayText: "Other"
            freeText: true
          - id: "NO_SUPPORT_NEEDS"
            displayText: "No support needs identified"
            exclusive: true
      - id: "SUPPORT_REQUIREMENTS_ADDITIONAL_DETAILS"
        title: "Additional details"
        subTitle: "This information will be only displayed in PSfR."
        type: "LONG_TEXT"
        validationType: "OPTIONAL"
    nextPageLogic:
      - nextPageId: "FINAL_QUESTION_NEXT_PAGE"
  # In subsequent versions do not change page and question ids below this point due to custom logic elsewhere in the code
  - id: "ASSESSMENT_SUMMARY"
    title: "Children, families and communities report summary"
    questions:
      - id: "SUPPORT_NEEDS"
        title: "Children, families and communities resettlement status"
        subTitle: "Select one option."
        type: "RADIO"
        options:
          - id: "SUPPORT_REQUIRED"
            displayText: "Support required"
            description: "a need for support has been identified and is accepted"
          - id: "SUPPORT_NOT_REQUIRED"
            displayText: "Support not required"
            description: "no need was identified"
          - id: "SUPPORT_DECLINED"
            displayText: "Support declined"
            description: "a need has been identified but support is declined"
    nextPageLogic:
      - nextPageId: "CHECK_ANSWERS"
  - id: "PRERELEASE_ASSESSMENT_SUMMARY"
    title: "Children, families and communities report summary"
    questions:
      - id: "SUPPORT_NEEDS_PRERELEASE"
        title: "Children, families and communities resettlement status"
        subTitle: "Select one option."
        type: "RADIO"
        options:
          - id: "SUPPORT_REQUIRED"
            displayText: "Support required"
            description: "a need for support has been identified and is accepted"
          - id: "SUPPORT_NOT_REQUIRED"
            displayText: "Support not required"
            description: "no need was identified"
          - id: "SUPPORT_DECLINED"
            displayText: "Support declined"
            description: "a need has been identified but support is declined"
          - id: "IN_PROGRESS"
            displayText: "In progress"
            description: "work is ongoing"
          - id: "DONE"
            displayText: "Done"
            description: "all required work has been completed successfully"
    nextPageLogic:
      - nextPageId: "CHECK_ANSWERS"
  - id: "CHECK_ANSWERS"